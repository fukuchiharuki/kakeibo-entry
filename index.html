<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>家計簿入力</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="./common-utility.js"></script>

<div>
  <header class="my-4">
    <h1 class="text-center text-xl font-bold">家計簿入力</h1>
  </header>

  <!--
  entry.502180998_year: 2024
  entry.502180998_month: 9
  entry.502180998_day: 26
  entry.1644931895: 100
  entry.1263347079: テスト
  entry.1872975358: 特別費
  entry.1354928899: はる
  -->

  <div class="mx-2 my-4">
    <header class="my-1">
      <h2 class="font-bold">使った日:</h2>
    </header>
    <div class="my-1">
      <input class="border border-dashed rounded p-1" type="text" name="entry.502180998" readonly />
      <span id="date-day"></span>
    </div>
    <div class="my-1 flex gap-x-1">
      <div class="flex-1">
        <button class="w-full border rounded py-1" id="week-previous">◀ 前の週</button>
      </div>
      <div class="flex-1">
        <button class="w-full border rounded py-1" id="wee-this">今日</button>
      </div>
      <div class="flex-1">
        <button class="w-full border rounded py-1" id="week-next">次の週 ▶</button>
      </div>
    </div>
    <div class="my-1 flex gap-x-1">
      <script>
        document.open();
        for (const i of range(7)) {
          const id = `week-day-${i}`;
          const textColor = (Number(i) === 0) ? 'text-red-500' : (Number(i) === 6) ? 'text-blue-500' : '';
          document.write(`\
            <div class="flex-1">\
              <button class="w-full border rounded py-1 text-sm ${textColor}" id="${id}"></button>\
            </div>\
          `);
        }
        document.close();
      </script>
    </div>
  </div>

  <div class="mx-2 my-4">
    <header class="my-1">
      <h2 class="font-bold">使った金額:</h2>
    </header>
    <div class="my-1">
      <input class="border border-dashed rounded p-1 text-right" type="text" name="entry.1644931895" readonly />
      <span>円</span>
    </div>
    <script>
      document.open();
      for (const i of range(3)) {
        document.write('<div class="my-1 flex gap-x-1">');
        for (const j of range(3)) {
          const number = (2 - i) * 3 + j + 1;
          const id = `numeric-key-${number}`;
          document.write(`\
            <div class="flex-1">\
              <button class="w-full border rounded py-1" id="${id}">${number}</button>\
            </div>\
          `);
        }
        document.write('</div>');
      }
      document.close();
    </script>
    <div class="my-1 flex gap-x-1">
      <div class="flex-1">
        <button class="w-full border rounded py-1" id="numeric-key-0">0</button>
      </div>
      <div class="flex-1">
        <button class="w-full border rounded py-1" id="numeric-key-00">00</button>
      </div>
      <div class="flex-1">
        <button class="w-full border rounded py-1" id="numeric-key-c">C</button>
      </div>
    </div>
  </div>
</div>

<script src="./input-date.js"></script>
<script src="./input-amount.js"></script>
